{
  "active": false,
  "activeVersion": null,
  "activeVersionId": null,
  "connections": {
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "Buscar cliente por razon social",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields2": {
      "main": [
        [
          {
            "node": "If3",
            "type": "main",
            "index": 0
          },
          {
            "node": "If4",
            "type": "main",
            "index": 0
          },
          {
            "node": "If5",
            "type": "main",
            "index": 0
          },
          {
            "node": "If2",
            "type": "main",
            "index": 0
          },
          {
            "node": "If1",
            "type": "main",
            "index": 0
          },
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update cliente_id (No.documento)": {
      "main": [
        [
          {
            "node": "Validacion1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "update cliente_id (No.documento)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If1": {
      "main": [
        [
          {
            "node": "update tipo_documento",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If2": {
      "main": [
        [
          {
            "node": "update razon_Social",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If3": {
      "main": [
        [
          {
            "node": "update telefono_contacto",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If4": {
      "main": [
        [
          {
            "node": "update persona_encargada",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If5": {
      "main": [
        [
          {
            "node": "update direccion_principal",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update razon_Social": {
      "main": [
        [
          {
            "node": "Validacion de actualizacion6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update tipo_documento": {
      "main": [
        [
          {
            "node": "Validacion de actualizacion5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update telefono_contacto": {
      "main": [
        [
          {
            "node": "Validacion de actualizacion7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update persona_encargada": {
      "main": [
        [
          {
            "node": "Validacion de actualizacion8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update direccion_principal": {
      "main": [
        [
          {
            "node": "Validacion de actualizacion9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "Buscar cliente por client_id",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Buscar cliente por razon social": {
      "main": [
        [
          {
            "node": "Edit Fields2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Buscar cliente por client_id": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "If6",
            "type": "main",
            "index": 0
          },
          {
            "node": "If7",
            "type": "main",
            "index": 0
          },
          {
            "node": "If8",
            "type": "main",
            "index": 0
          },
          {
            "node": "If9",
            "type": "main",
            "index": 0
          },
          {
            "node": "If10",
            "type": "main",
            "index": 0
          },
          {
            "node": "If11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update tipo_documento1": {
      "main": [
        [
          {
            "node": "Validacion de actualizacion1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update razon_Social1": {
      "main": [
        [
          {
            "node": "Validacion de actualizacion",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update telefono_contacto1": {
      "main": [
        [
          {
            "node": "Validacion de actualizacion2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update persona_encargada1": {
      "main": [
        [
          {
            "node": "Validacion de actualizacion3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update direccion_principal1": {
      "main": [
        [
          {
            "node": "Validacion de actualizacion4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If6": {
      "main": [
        [
          {
            "node": "update cliente_id1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If7": {
      "main": [
        [
          {
            "node": "update tipo_documento1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If8": {
      "main": [
        [
          {
            "node": "update razon_Social1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If9": {
      "main": [
        [
          {
            "node": "update telefono_contacto1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If10": {
      "main": [
        [
          {
            "node": "update persona_encargada1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If11": {
      "main": [
        [
          {
            "node": "update direccion_principal1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Validacion": {
      "main": [
        [
          {
            "node": "If17",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Validacion de actualizacion1": {
      "main": [
        [
          {
            "node": "If16",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Validacion de actualizacion": {
      "main": [
        [
          {
            "node": "If15",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Validacion de actualizacion2": {
      "main": [
        [
          {
            "node": "If12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If12": {
      "main": [
        [
          {
            "node": "message task done",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "failed message- query an human in the loop",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Validacion de actualizacion3": {
      "main": [
        [
          {
            "node": "If13",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If13": {
      "main": [
        [
          {
            "node": "message task done",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "failed message- query an human in the loop",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "message task done": {
      "main": [
        []
      ]
    },
    "Validacion de actualizacion4": {
      "main": [
        [
          {
            "node": "If14",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If14": {
      "main": [
        [
          {
            "node": "message task done",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "failed message- query an human in the loop",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If15": {
      "main": [
        [
          {
            "node": "message task done",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "failed message- query an human in the loop",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If16": {
      "main": [
        [
          {
            "node": "message task done",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "failed message- query an human in the loop",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If17": {
      "main": [
        [
          {
            "node": "message task done",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "failed message- query an human in the loop",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update cliente_id1": {
      "main": [
        [
          {
            "node": "Validacion",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Validacion de actualizacion5": {
      "main": [
        [
          {
            "node": "If22",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Validacion1": {
      "main": [
        [
          {
            "node": "If23",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Validacion de actualizacion6": {
      "main": [
        [
          {
            "node": "If21",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Validacion de actualizacion7": {
      "main": [
        [
          {
            "node": "If18",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Validacion de actualizacion8": {
      "main": [
        [
          {
            "node": "If19",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Validacion de actualizacion9": {
      "main": [
        [
          {
            "node": "If20",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If23": {
      "main": [
        [
          {
            "node": "message task done1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "failed message- query an human in the loop1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If22": {
      "main": [
        [
          {
            "node": "message task done1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "failed message- query an human in the loop1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If21": {
      "main": [
        [
          {
            "node": "message task done1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "failed message- query an human in the loop1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If18": {
      "main": [
        [
          {
            "node": "message task done1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "failed message- query an human in the loop1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If19": {
      "main": [
        [
          {
            "node": "message task done1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "failed message- query an human in the loop1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If20": {
      "main": [
        [
          {
            "node": "message task done1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "failed message- query an human in the loop1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-11-25T15:48:25.951Z",
  "id": "FPWJV6u5vBOSLtvM",
  "isArchived": false,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "Update_cliente",
  "nodes": [
    {
      "parameters": {
        "workflowInputs": {
          "values": [
            {
              "name": "tipo_registro"
            },
            {
              "name": "cliente_id_anterior",
              "type": "number"
            },
            {
              "name": "client_id",
              "type": "number"
            },
            {
              "name": "tipo_documento_anterior"
            },
            {
              "name": "tipo_documento"
            },
            {
              "name": "razon_social_anterior"
            },
            {
              "name": "razon_social"
            },
            {
              "name": "telefono_contacto_anterior"
            },
            {
              "name": "telefono_contacto"
            },
            {
              "name": "persona_encargada_anterior"
            },
            {
              "name": "persona_encargada"
            },
            {
              "name": "direccion_principal_anterior"
            },
            {
              "name": "direccion_principal"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        -3184,
        -160
      ],
      "id": "362696a5-0552-4f55-b3fc-65eff9373a6f",
      "name": "When Executed by Another Workflow"
    },
    {
      "parameters": {
        "jsCode": "const items = $input.all();\nconst searchTerm = $input.first().json.razon_social_anterior\n\nreturn items.filter(item => {\n  const nombre = $input.first().json.razon_social_anterior.toLowerCase();\n  const palabrasBusqueda = searchTerm.toLowerCase().trim().split(/\\s+/); // divide por espacios\n\n  // Verifica que TODAS las palabras de búsqueda estén en el nombre\n  return palabrasBusqueda.every(palabra => nombre.includes(palabra));\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1936,
        1120
      ],
      "id": "b5b17796-b52c-42c5-97a6-f94919561c30",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "bfcc153a-ac4d-4e78-b815-62ead8b9dea4",
              "name": "Id",
              "value": "={{ $json.Id }}",
              "type": "number"
            },
            {
              "id": "ca3bc265-1813-45f2-85a9-29f5f8986679",
              "name": "client_id",
              "value": "={{ $('When Executed by Another Workflow').item.json.client_id }}",
              "type": "string"
            },
            {
              "id": "344433b6-3996-499d-9892-cc53d3e3bc4c",
              "name": "tipo_documento",
              "value": "={{ $('When Executed by Another Workflow').item.json.tipo_documento }}",
              "type": "string"
            },
            {
              "id": "c100ca53-d897-47c4-acd2-8ac164895cb1",
              "name": "razon_social",
              "value": "={{ $('When Executed by Another Workflow').item.json.razon_social }}",
              "type": "string"
            },
            {
              "id": "c90964cc-e307-4902-9795-bcbe330feb9c",
              "name": "telefono_contacto",
              "value": "={{ $('When Executed by Another Workflow').item.json.telefono_contacto }}",
              "type": "string"
            },
            {
              "id": "a31bfa76-16df-4425-a421-5bc91b6b6e60",
              "name": "persona_encargada",
              "value": "={{ $('When Executed by Another Workflow').item.json.persona_encargada }}",
              "type": "string"
            },
            {
              "id": "f99b537e-5743-413c-9870-0e09122d5e7d",
              "name": "direccion_principal",
              "value": "={{ $('When Executed by Another Workflow').item.json.direccion_principal }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -1424,
        1120
      ],
      "id": "69940308-21f8-41f3-b476-6d3a0512ff5d",
      "name": "Edit Fields2"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "update",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldName": "Id",
              "fieldValue": "={{ $('Edit Fields2').item.json.Id }}"
            },
            {
              "fieldName": "tipo_documento",
              "fieldValue": "={{ $('Edit Fields2').item.json.tipo_documento }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -720,
        656
      ],
      "id": "8113bbfb-185b-4a28-b422-c9da36c2f915",
      "name": "update tipo_documento",
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      }
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "update",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldName": "Id",
              "fieldValue": "={{ $json.Id }}"
            },
            {
              "fieldName": "razon_social",
              "fieldValue": "={{ $json.razon_social }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -720,
        1040
      ],
      "id": "068f273c-e938-4060-90c3-f55a545a6f93",
      "name": "update razon_Social",
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      }
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "update",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldName": "Id",
              "fieldValue": "={{ $json.Id }}"
            },
            {
              "fieldName": "telefono_contacto",
              "fieldValue": "={{ $json.telefono_contacto }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -720,
        1424
      ],
      "id": "0a755f38-f484-495b-972d-f21401bf8b43",
      "name": "update telefono_contacto",
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      }
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "update",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldName": "Id",
              "fieldValue": "={{ $json.Id }}"
            },
            {
              "fieldName": "persona_encargada",
              "fieldValue": "={{ $json.persona_encargada }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -720,
        1808
      ],
      "id": "3572c89e-3dbc-469b-a73e-4629805c0626",
      "name": "update persona_encargada",
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      }
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "update",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldName": "Id",
              "fieldValue": "={{ $json.Id }}"
            },
            {
              "fieldName": "direccion_principal",
              "fieldValue": "={{ $json.direccion_principal }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -720,
        2192
      ],
      "id": "b1211189-d1bf-472b-9b29-af4e4a95b7bf",
      "name": "update direccion_principal",
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      }
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "update",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldName": "Id",
              "fieldValue": "={{ $('Buscar cliente por razon social').item.json.Id }}"
            },
            {
              "fieldName": "=client_id",
              "fieldValue": "={{ $('Edit Fields2').item.json.client_id }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -720,
        272
      ],
      "id": "1b501f5a-5d15-4c2a-8e74-de5d4e43e46f",
      "name": "update cliente_id (No.documento)",
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "02e77bc6-5215-4111-9f8d-cd1a79c7b049",
              "leftValue": "={{ $json.client_id }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -944,
        368
      ],
      "id": "d5e185de-81b4-4897-9f9c-25efd8295bb2",
      "name": "If"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "02e77bc6-5215-4111-9f8d-cd1a79c7b049",
              "leftValue": "={{ $json.tipo_documento }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -944,
        752
      ],
      "id": "a1c9b0c0-7a56-4124-b510-91d439589d3c",
      "name": "If1"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "02e77bc6-5215-4111-9f8d-cd1a79c7b049",
              "leftValue": "={{ $json.razon_social }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -944,
        1136
      ],
      "id": "b3e400fa-0fac-474b-8650-d4da0b681b32",
      "name": "If2"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "02e77bc6-5215-4111-9f8d-cd1a79c7b049",
              "leftValue": "={{ $json.telefono_contacto }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -944,
        1520
      ],
      "id": "a3ff8cd1-ec3a-457e-861a-70687f8635af",
      "name": "If3"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "02e77bc6-5215-4111-9f8d-cd1a79c7b049",
              "leftValue": "={{ $json.persona_encargada }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -944,
        1904
      ],
      "id": "902fabf1-1f33-4fe9-a13d-b004ef3ef497",
      "name": "If4"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "02e77bc6-5215-4111-9f8d-cd1a79c7b049",
              "leftValue": "={{ $json.direccion_principal }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -944,
        2288
      ],
      "id": "7e5c0d34-13a7-4684-a080-124705941413",
      "name": "If5"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        -720,
        464
      ],
      "id": "aacf6115-7486-4daf-b587-cc908814870a",
      "name": "No Operation, do nothing"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        -720,
        848
      ],
      "id": "968b95a3-3627-4b86-8db0-4de52ac7c72e",
      "name": "No Operation, do nothing1"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        -720,
        1232
      ],
      "id": "25dc92a6-9b87-449f-a40e-6753c2696ec5",
      "name": "No Operation, do nothing2"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        -720,
        1616
      ],
      "id": "0ef8c7af-fe60-4d35-a338-76f72a52117f",
      "name": "No Operation, do nothing3"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        -720,
        2000
      ],
      "id": "bf2d3337-5842-455d-a3ce-72e56058d0ac",
      "name": "No Operation, do nothing4"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        -720,
        2384
      ],
      "id": "7bbb54b1-3d51-4cb3-a282-3dfaa5014d6e",
      "name": "No Operation, do nothing5"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.cliente_id_anterior }}",
                    "rightValue": "",
                    "operator": {
                      "type": "string",
                      "operation": "exists",
                      "singleValue": true
                    },
                    "id": "5bb3f364-d37e-4805-adf8-35dff341d43e"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "client_id"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "b2897a6c-e656-4555-ae8c-6b03f9b14993",
                    "leftValue": "={{ $json.razon_social_anterior }}",
                    "rightValue": "",
                    "operator": {
                      "type": "string",
                      "operation": "exists",
                      "singleValue": true
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "razon_social"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.3,
      "position": [
        -2960,
        -160
      ],
      "id": "cee618f6-7599-427c-b25f-3d9875334f67",
      "name": "Switch"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "getAll",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "returnAll": true,
        "options": {
          "where": "=(razon_social_unaccent,like,%{{ $json.razon_social_anterior.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").toUpperCase() }}%)"
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -1648,
        1120
      ],
      "id": "abd27ed8-9040-4a8e-ae80-e675ccae0fcb",
      "name": "Buscar cliente por razon social",
      "alwaysOutputData": true,
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "getAll",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "returnAll": true,
        "options": {
          "where": "=(client_id,like,{{ $json.cliente_id_anterior }})"
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -1808,
        -1168
      ],
      "id": "630f1f09-f193-41a5-8315-8520a576ffac",
      "name": "Buscar cliente por client_id",
      "alwaysOutputData": false,
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "bfcc153a-ac4d-4e78-b815-62ead8b9dea4",
              "name": "Id",
              "value": "={{ $json.Id }}",
              "type": "number"
            },
            {
              "id": "ca3bc265-1813-45f2-85a9-29f5f8986679",
              "name": "client_id",
              "value": "={{ $('When Executed by Another Workflow').item.json.client_id }}",
              "type": "string"
            },
            {
              "id": "344433b6-3996-499d-9892-cc53d3e3bc4c",
              "name": "tipo_documento",
              "value": "={{ $('When Executed by Another Workflow').item.json.tipo_documento }}",
              "type": "string"
            },
            {
              "id": "c100ca53-d897-47c4-acd2-8ac164895cb1",
              "name": "razon_social",
              "value": "={{ $('When Executed by Another Workflow').item.json.razon_social }}",
              "type": "string"
            },
            {
              "id": "c90964cc-e307-4902-9795-bcbe330feb9c",
              "name": "telefono_contacto",
              "value": "={{ $('When Executed by Another Workflow').item.json.telefono_contacto }}",
              "type": "string"
            },
            {
              "id": "a31bfa76-16df-4425-a421-5bc91b6b6e60",
              "name": "persona_encargada",
              "value": "={{ $('When Executed by Another Workflow').item.json.persona_encargada }}",
              "type": "string"
            },
            {
              "id": "f99b537e-5743-413c-9870-0e09122d5e7d",
              "name": "direccion_principal",
              "value": "={{ $('When Executed by Another Workflow').item.json.direccion_principal }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -1584,
        -1168
      ],
      "id": "f900a6ed-ee91-4b6c-a4de-22538d5c1cf8",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "update",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldName": "Id",
              "fieldValue": "={{ $('Edit Fields').item.json.Id }}"
            },
            {
              "fieldName": "tipo_documento",
              "fieldValue": "={{ $('Edit Fields').item.json.tipo_documento }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -944,
        -1824
      ],
      "id": "4686d1f6-3047-424c-9e03-c8aeb6899acc",
      "name": "update tipo_documento1",
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      }
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "update",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldName": "Id",
              "fieldValue": "={{ $json.Id }}"
            },
            {
              "fieldName": "razon_social",
              "fieldValue": "={{ $json.razon_social }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -944,
        -1440
      ],
      "id": "7ce6f575-66cd-40c7-9f0a-6fa89ce188ba",
      "name": "update razon_Social1",
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      }
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "update",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldName": "Id",
              "fieldValue": "={{ $json.Id }}"
            },
            {
              "fieldName": "telefono_contacto",
              "fieldValue": "={{ $json.telefono_contacto }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -944,
        -1056
      ],
      "id": "f493c2c6-1ca7-4ba6-86f6-fbab718e712a",
      "name": "update telefono_contacto1",
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      }
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "update",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldName": "Id",
              "fieldValue": "={{ $json.Id }}"
            },
            {
              "fieldName": "persona_encargada",
              "fieldValue": "={{ $json.persona_encargada }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -944,
        -672
      ],
      "id": "4815f882-ff0a-4159-ab79-f7e762b2ac16",
      "name": "update persona_encargada1",
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      }
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "update",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldName": "Id",
              "fieldValue": "={{ $json.Id }}"
            },
            {
              "fieldName": "direccion_principal",
              "fieldValue": "={{ $json.direccion_principal }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -944,
        -288
      ],
      "id": "64700823-cd81-4980-8459-abaaf7e49a3c",
      "name": "update direccion_principal1",
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "02e77bc6-5215-4111-9f8d-cd1a79c7b049",
              "leftValue": "={{ $json.client_id }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -1168,
        -2112
      ],
      "id": "eccae39e-4e4d-461c-85ce-30a21d818b54",
      "name": "If6"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "02e77bc6-5215-4111-9f8d-cd1a79c7b049",
              "leftValue": "={{ $json.tipo_documento }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -1168,
        -1728
      ],
      "id": "ba4b3658-c917-4ca7-a498-23a573b4b093",
      "name": "If7"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "02e77bc6-5215-4111-9f8d-cd1a79c7b049",
              "leftValue": "={{ $json.razon_social }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -1168,
        -1344
      ],
      "id": "af1187dd-e9d3-4138-a0a4-bdce58988926",
      "name": "If8"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "02e77bc6-5215-4111-9f8d-cd1a79c7b049",
              "leftValue": "={{ $json.telefono_contacto }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -1168,
        -960
      ],
      "id": "6f04cfe6-b32f-4401-ba12-eb880ab392e1",
      "name": "If9"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "02e77bc6-5215-4111-9f8d-cd1a79c7b049",
              "leftValue": "={{ $json.persona_encargada }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -1168,
        -576
      ],
      "id": "25ad3c3d-b12b-459a-8a6c-65a2537678ca",
      "name": "If10"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "02e77bc6-5215-4111-9f8d-cd1a79c7b049",
              "leftValue": "={{ $json.direccion_principal }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -1168,
        -192
      ],
      "id": "0252b02a-2b7e-42a9-9e8d-6d200566fbae",
      "name": "If11"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        -944,
        -2016
      ],
      "id": "3dbe06bf-103b-45bf-85ef-46fca2e05246",
      "name": "No Operation, do nothing6"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        -944,
        -1632
      ],
      "id": "095f28da-6c11-4141-b418-1f3d18728e61",
      "name": "No Operation, do nothing7"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        -944,
        -1248
      ],
      "id": "69631456-c4f2-42ae-a185-027403a3a66f",
      "name": "No Operation, do nothing8"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        -944,
        -864
      ],
      "id": "dc9cdf87-10eb-4cc9-8219-1de9f13a1621",
      "name": "No Operation, do nothing9"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        -944,
        -480
      ],
      "id": "9e76a948-486b-4521-b15b-7271da107fe1",
      "name": "No Operation, do nothing10"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        -944,
        -64
      ],
      "id": "4526fb61-eae4-4822-87a2-af8db97c31f7",
      "name": "No Operation, do nothing11"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "getAll",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "returnAll": true,
        "options": {
          "where": "=(client_id,like,{{ $('When Executed by Another Workflow').item.json.cliente_id_anterior }}) "
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -720,
        -1824
      ],
      "id": "4ccf4f4b-c547-4128-9105-0bc83ac9cdf8",
      "name": "Validacion de actualizacion1",
      "alwaysOutputData": true,
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "getAll",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "returnAll": true,
        "options": {
          "where": "=(client_id,like,{{ $('update cliente_id1').item.json.client_id }})"
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -720,
        -2208
      ],
      "id": "fabd148d-f779-418a-aacd-81c6cdb1f7ca",
      "name": "Validacion",
      "alwaysOutputData": true,
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "getAll",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "returnAll": true,
        "options": {
          "where": "=(client_id,like,{{ $('When Executed by Another Workflow').item.json.cliente_id_anterior }}) "
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -720,
        -1440
      ],
      "id": "ac4e886f-92e8-441b-b2fa-66db99e17dca",
      "name": "Validacion de actualizacion",
      "alwaysOutputData": true,
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "getAll",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "returnAll": true,
        "options": {
          "where": "=(client_id,like,{{ $('When Executed by Another Workflow').item.json.cliente_id_anterior }}) "
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -720,
        -1056
      ],
      "id": "4beced36-c1b5-4a82-b7ce-69474f9d52b8",
      "name": "Validacion de actualizacion2",
      "alwaysOutputData": true,
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "1870452c-1e5d-46cd-8e3d-bcfe5060be8a",
              "leftValue": "={{ $('update telefono_contacto1').item.json.telefono_contacto }}",
              "rightValue": "={{ $('When Executed by Another Workflow').item.json.telefono_contacto }}",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -496,
        -1056
      ],
      "id": "fa4f06ad-688b-48e5-bb78-553d70283ce0",
      "name": "If12"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "getAll",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "returnAll": true,
        "options": {
          "where": "=(client_id,like,{{ $('When Executed by Another Workflow').item.json.cliente_id_anterior }}) "
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -720,
        -672
      ],
      "id": "b2d70883-1ee8-4691-919d-f3351c87f418",
      "name": "Validacion de actualizacion3",
      "alwaysOutputData": true,
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "a37fe3ca-aab8-478c-a1a8-85f0a7132b6c",
              "leftValue": "=el pepe",
              "rightValue": "={{ $('When Executed by Another Workflow').item.json.persona_encargada }}",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            },
            {
              "id": "3e55b932-eca9-46e6-996d-e763c103fdfe",
              "leftValue": "",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -496,
        -672
      ],
      "id": "9a1ef206-e07e-4380-a767-70cc8bddfb42",
      "name": "If13"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "b98051c5-bd2c-4149-a415-5959853df4cf",
              "name": "response",
              "value": "=se ha actualizado la informacion del cliente, estos son los nuevos datos:\n\nNo. identificación: {{ $json.client_id }}\nTipo de Documento:{{ $json.tipo_documento }}\nRazon social:{{ $json.razon_social }}\nTelefono: {{ $json.telefono_contacto }}\nPersona encargada:{{ $json.persona_encargada }}\nDireccion Principal: {{ $json.direccion_principal }}\n\n",
              "type": "string"
            },
            {
              "id": "5dc1af78-3925-473c-a0b7-51ef293cb469",
              "name": "client_id",
              "value": "={{ $json.client_id }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        416,
        -1440
      ],
      "id": "fff7f9f6-e505-46b2-a107-2f04b82c3bb2",
      "name": "message task done"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "getAll",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "returnAll": true,
        "options": {
          "where": "=(client_id,like,{{ $('When Executed by Another Workflow').item.json.cliente_id_anterior }}) "
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -720,
        -288
      ],
      "id": "c2ab88fb-a178-4f11-884a-049bfb4a9ade",
      "name": "Validacion de actualizacion4",
      "alwaysOutputData": true,
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "fbbb864c-6932-46bc-848d-0caefd47caee",
              "leftValue": "={{ $json.direccion_principal }}",
              "rightValue": "={{ $('When Executed by Another Workflow').item.json.direccion_principal }}",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -496,
        -288
      ],
      "id": "26dc001a-56da-4394-9d03-98180cd88c70",
      "name": "If14"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "65fbe0bf-54e0-4592-ae69-f959880e348c",
              "leftValue": "",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -496,
        -1440
      ],
      "id": "8c0e0597-6f49-4ce9-aa54-1130c01ecc40",
      "name": "If15"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "ad1221ec-8303-4091-b42e-6906aea88826",
              "leftValue": "={{ $json.tipo_documento }}",
              "rightValue": "={{ $('When Executed by Another Workflow').item.json.tipo_documento }}",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -496,
        -1824
      ],
      "id": "e2cc6435-ce6e-4873-b53a-ea68e12d646b",
      "name": "If16"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "b0192137-212e-4fc5-80a9-387bb31a8c85",
              "leftValue": "={{ $json.client_id }}",
              "rightValue": "={{ $('When Executed by Another Workflow').item.json.client_id }}",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -496,
        -2208
      ],
      "id": "b13067fa-97d5-4c8a-8395-1a9761207f27",
      "name": "If17"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c5a85d8c-6eb0-4da9-9334-b2a9552739b5",
              "name": "failed message - Query Human in the Loop",
              "value": "Tenemos un inconveniente con la data, comunicate con el administrador del sistema",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        416,
        -1056
      ],
      "id": "f29fa78a-c059-4569-ba06-cbbfb4143b21",
      "name": "failed message- query an human in the loop"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "update",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldName": "Id",
              "fieldValue": "={{ $('Edit Fields').item.json.Id }}"
            },
            {
              "fieldName": "=client_id",
              "fieldValue": "={{ $('Edit Fields').item.json.client_id }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -944,
        -2208
      ],
      "id": "679a8e4c-b2b3-4e57-9d20-3dc9cd5af8e6",
      "name": "update cliente_id1",
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      }
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "getAll",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "returnAll": true,
        "options": {
          "where": "=(client_id,like,{{ $('When Executed by Another Workflow').item.json.cliente_id_anterior }}) "
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -464,
        656
      ],
      "id": "193584cf-3a67-4727-ab3b-a5fac9e37cbc",
      "name": "Validacion de actualizacion5",
      "alwaysOutputData": true,
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "getAll",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "returnAll": true,
        "options": {
          "where": "=(client_id,like,{{ $('update cliente_id1').item.json.client_id }})"
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -464,
        272
      ],
      "id": "26d1f7de-1003-4164-8625-9a70be8d01fe",
      "name": "Validacion1",
      "alwaysOutputData": true,
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "getAll",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "returnAll": true,
        "options": {
          "where": "=(client_id,like,{{ $('When Executed by Another Workflow').item.json.cliente_id_anterior }}) "
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -464,
        1040
      ],
      "id": "e3b3ff26-df6f-49b1-ae34-59e85a7503a0",
      "name": "Validacion de actualizacion6",
      "alwaysOutputData": true,
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "getAll",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "returnAll": true,
        "options": {
          "where": "=(client_id,like,{{ $('When Executed by Another Workflow').item.json.cliente_id_anterior }}) "
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -464,
        1424
      ],
      "id": "20a4aa3f-686e-45dd-b32d-a1c8ace07ed5",
      "name": "Validacion de actualizacion7",
      "alwaysOutputData": true,
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "1870452c-1e5d-46cd-8e3d-bcfe5060be8a",
              "leftValue": "={{ $('update telefono_contacto1').item.json.telefono_contacto }}",
              "rightValue": "={{ $('When Executed by Another Workflow').item.json.telefono_contacto }}",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -240,
        1424
      ],
      "id": "5d188595-713d-4dc1-92eb-6fba6748a62a",
      "name": "If18"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "getAll",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "returnAll": true,
        "options": {
          "where": "=(client_id,like,{{ $('When Executed by Another Workflow').item.json.cliente_id_anterior }}) "
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -464,
        1808
      ],
      "id": "510682c0-8f0b-40f8-b660-0b2999c02faf",
      "name": "Validacion de actualizacion8",
      "alwaysOutputData": true,
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "a37fe3ca-aab8-478c-a1a8-85f0a7132b6c",
              "leftValue": "=el pepe",
              "rightValue": "={{ $('When Executed by Another Workflow').item.json.persona_encargada }}",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            },
            {
              "id": "3e55b932-eca9-46e6-996d-e763c103fdfe",
              "leftValue": "",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -240,
        1808
      ],
      "id": "6510464b-3662-4ca7-8186-59564eea8077",
      "name": "If19"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "getAll",
        "projectId": "pt2jl7502mka8xd",
        "table": "m58lt3zk9pd4acn",
        "returnAll": true,
        "options": {
          "where": "=(client_id,like,{{ $('When Executed by Another Workflow').item.json.cliente_id_anterior }}) "
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        -464,
        2192
      ],
      "id": "7f458be8-9d82-48b4-b347-9f58e56548f2",
      "name": "Validacion de actualizacion9",
      "alwaysOutputData": true,
      "credentials": {
        "nocoDbApiToken": {
          "id": "PngKKQ0D2nKSCDu8",
          "name": "Tool Acondicionados SAS"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "fbbb864c-6932-46bc-848d-0caefd47caee",
              "leftValue": "={{ $json.direccion_principal }}",
              "rightValue": "={{ $('When Executed by Another Workflow').item.json.direccion_principal }}",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -240,
        2192
      ],
      "id": "931c66df-79a9-4df9-ad9b-0b1170531875",
      "name": "If20"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "65fbe0bf-54e0-4592-ae69-f959880e348c",
              "leftValue": "",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -240,
        1040
      ],
      "id": "31a4e3d1-d1e8-4601-9ada-92e38e51375e",
      "name": "If21"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "ad1221ec-8303-4091-b42e-6906aea88826",
              "leftValue": "={{ $json.tipo_documento }}",
              "rightValue": "={{ $('When Executed by Another Workflow').item.json.tipo_documento }}",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -240,
        656
      ],
      "id": "638820d0-ed5e-4656-aa3e-23270590ad30",
      "name": "If22"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "b0192137-212e-4fc5-80a9-387bb31a8c85",
              "leftValue": "={{ $json.client_id }}",
              "rightValue": "={{ $('When Executed by Another Workflow').item.json.client_id }}",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -240,
        272
      ],
      "id": "35f28c36-1991-4de6-b3dc-41db383e4fae",
      "name": "If23"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "b98051c5-bd2c-4149-a415-5959853df4cf",
              "name": "response",
              "value": "=se ha actualizado la informacion del cliente, estos son los nuevos datos:\n\nNo. identificación: {{ $json.client_id }}\nTipo de Documento:{{ $json.tipo_documento }}\nRazon social:{{ $json.razon_social }}\nTelefono: {{ $json.telefono_contacto }}\nPersona encargada:{{ $json.persona_encargada }}\nDireccion Principal: {{ $json.direccion_principal }}\n\n",
              "type": "string"
            },
            {
              "id": "5dc1af78-3925-473c-a0b7-51ef293cb469",
              "name": "client_id",
              "value": "={{ $json.client_id }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        512,
        1024
      ],
      "id": "57ef6822-973e-4be5-aa71-1fb8b41014b1",
      "name": "message task done1"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c5a85d8c-6eb0-4da9-9334-b2a9552739b5",
              "name": "failed message - Query Human in the Loop",
              "value": "Tenemos un inconveniente con la data, comunicate con el administrador del sistema",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        448,
        1440
      ],
      "id": "96987608-9ce1-4cfc-8909-17e55e7e571f",
      "name": "failed message- query an human in the loop1"
    }
  ],
  "pinData": {
    "When Executed by Another Workflow": [
      {
        "json": {
          "tipo_registro": null,
          "cliente_id_anterior": null,
          "client_id": "1026558599",
          "tipo_documento_anterior": "NIT",
          "tipo_documento": null,
          "razon_social_anterior": "francisco de Paula",
          "razon_social": null,
          "telefono_contacto_anterior": null,
          "telefono_contacto": null,
          "persona_encargada_anterior": null,
          "persona_encargada": null,
          "direccion_principal_anterior": null,
          "direccion_principal": null
        }
      }
    ]
  },
  "repo_name": "flujos_n8n",
  "repo_owner": "whitelabel-ai",
  "repo_path": "Automation/",
  "settings": {
    "executionOrder": "v1"
  },
  "shared": [
    {
      "updatedAt": "2025-11-25T15:48:25.951Z",
      "createdAt": "2025-11-25T15:48:25.951Z",
      "role": "workflow:owner",
      "workflowId": "FPWJV6u5vBOSLtvM",
      "projectId": "73zSRVHGJwFSDWts"
    }
  ],
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-11-27T13:32:14.590Z",
  "versionId": "717bf43d-67b6-42ea-a99b-09325dc5c9c4"
}